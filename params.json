{"name":"On Proteomics Research Trends","tagline":"A view from the PRIDE Archive","body":"# PRIDE Archive Anual Trends - Exploratory Data Analysis\r\nJose A. Dianes  \r\n20 March 2015  \r\n\r\n# Requisities  \r\n\r\nThese are some of the libraries and configurations we will use in the \r\nfollowing analysis.  \r\n\r\n\r\n```r\r\nrequire(devtools)\r\ninstall_github(\"PRIDE-R/prideR\")\r\nlibrary(prideR)\r\nrequire(ggplot2)\r\ntheme_set(theme_linedraw())\r\nrequire(dplyr)\r\n```\r\n\r\n# A draft of the pipeline  \r\n\r\nThe two first parts are carried out in this document. The data visualisation part\r\nwill be generated and published separatelly and referenced from here.  \r\n\r\n**Data acquisition**  \r\n\r\nWe will use the [prideR package](http://pride-r.github.io/prideR) to retrieve \r\ndata from all the submitted experiments up to date.  \r\n\r\n**Exploratory Data Analysis**  \r\n\r\nBy using `R`, first we will prepare and explore data to be mined. Then we will\r\ncompute different summary statistics and generate some plots that will give us\r\nsome insight into the questions we want to answer in our visualisation.  \r\n\r\n**Data Visualisation**   \r\n\r\nFor this data viz we will use [Tableau](http://www.tableau.com). We will generate some worksheets for the \r\nkey charts, and then we will put them together in an *author-driven* linear\r\nnarrative that will go over time answering questions about MS2 proteomics \r\nresearch trends.  \r\n\r\n# Data acquisition  \r\n\r\nUsing [prideR](http://pride-r.github.io/prideR), lets retrieve all the public \r\ndatasets. We will use a large number as page size so we retrieve all of them.    \r\n\r\n\r\n```r\r\nall_projects <- search.list.ProjectSummary(\"\",0,20000)\r\nnum_projects <- length(project.list(all_projects))\r\n```\r\n\r\nThis time we get 1331 projects in total. Lets convert the result \r\nobject into a data frame, more suitable to work with the different R libraries.  \r\n\r\n\r\n```r\r\nall_projects.df <- as.data.frame(all_projects)\r\nnames(all_projects.df)\r\n```\r\n\r\n```\r\n##  [1] \"accession\"           \"project.title\"       \"project.description\"\r\n##  [4] \"publication.date\"    \"num.assays\"          \"species\"            \r\n##  [7] \"tissues\"             \"ptm.names\"           \"instrument.names\"   \r\n## [10] \"project.tags\"        \"submissionType\"\r\n```\r\n\r\nLet's have a look at the publication dates.  \r\n\r\n\r\n```r\r\nstr(all_projects.df$publication.date)\r\n```\r\n\r\n```\r\n##  POSIXct[1:1331], format: \"2015-03-19\" \"2015-03-19\" \"2015-03-19\" \"2015-03-19\" ...\r\n```\r\n\r\nWe see they are already in date format (`POSIXct`) and contain month and day. But we are just\r\ninterested in years in our study of trends, so let's extract the year in a separate\r\nvariable in the data frame.  \r\n\r\n\r\n```r\r\nall_projects.df$publication.year <- as.factor(format(all_projects.df$publication.date, \"%Y\"))\r\ntable(all_projects.df$publication.year)\r\n```\r\n\r\n```\r\n## \r\n## 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 \r\n##    6   12   18   22   52   75  112  181  255  485  113\r\n```\r\n\r\nWe have a lot of information in that summary table. But let's put it visually.  \r\n\r\n\r\n```r\r\nggplot(data=all_projects.df, aes(x=publication.year)) +\r\n    geom_bar()\r\n```\r\n\r\n![](https://github.com/PRIDE-R/archive-anual-trends/blob/master/README_files/figure-html/unnamed-chunk-6-1.png) \r\n\r\nMaybe we should exclude the present year from our trend analysis since the year\r\nis not complete and will incorrectly influence the outcomes.  \r\n\r\n\r\n```r\r\nall_projects_up2014.df <- subset(all_projects.df, publication.year!=\"2015\")\r\nnum_projects_up2014 <- nrow(all_projects_up2014.df)\r\n```\r\n\r\nThere we are. We have a new dataframe with 1218 projects \r\nup to 2014. I think we are ready to start doing some Exploratory Analysis.  \r\n\r\n# Exploratory Data Analysis  \r\n\r\nSo we know how the number of publications has changed over the years. But we are\r\nalso interested in what people research during these years. From the names in our\r\ndata frame we saw that each project includes information regarding:  \r\n\r\n* Species  \r\n* Tissues  \r\n* Modification names  \r\n* Instrument names  \r\n\r\nLet's first have a look at each of these variables as a whole, and later on we\r\ncan group them by years. We will repeat the analysis fir each variable.    \r\n\r\n## Species  \r\n\r\n\r\n```r\r\nspecies_table <- sort(table(all_projects_up2014.df$species), decreasing=T)\r\nspecies_table_frequent <- species_table[species_table>10]\r\nnum_species <- length(species_table)\r\nnum_species_frequent <- sum(species_table>10)\r\n```\r\n\r\nWe see that we have up to 312 different species. But most of them \r\nare rare species that appear just once or twice. Just 10\r\nof them have been submitted more than ten times. Let's plot them.    \r\n\r\n\r\n```r\r\nggplot(data=subset(all_projects_up2014.df, species %in% names(species_table_frequent))) + \r\n       aes(factor(species, levels=names(species_table_frequent))) +\r\n    geom_bar() + coord_flip( )+\r\n    ylab(\"Number of publications\") +\r\n    xlab(\"\") +\r\n    ggtitle(\"Per Species project publications\")\r\n```\r\n\r\n![](https://github.com/PRIDE-R/archive-anual-trends/blob/master/README_files/figure-html/unnamed-chunk-9-1.png) \r\n\r\nBut how this distributes over time? Let's consider just publications after 2009.  \r\n\r\n\r\n```r\r\nggplot(\r\n    data=subset(all_projects_up2014.df, \r\n                publication.year %in% factor(c(\"2009\",\"2010\",\"2011\",\"2013\",\"2014\")) & \r\n                    species %in% names(species_table_frequent)),\r\n       aes(\r\n           factor(species, levels=names(species_table_frequent))\r\n           )\r\n    ) +\r\n    geom_bar() + coord_flip() +\r\n    facet_grid(. ~ publication.year) +\r\n    ylab(\"Number of publications\") +\r\n    xlab(\"\") +\r\n    ggtitle(\"Per Species and Year project publications (2009-2014)\")\r\n```\r\n\r\n![](https://github.com/PRIDE-R/archive-anual-trends/blob/master/README_files/figure-html/unnamed-chunk-10-1.png) \r\n\r\nIt seems clear that human is the most prevalent species, so lets remove it so we\r\ncan compare the rest of the species more easily.  \r\n\r\n\r\n```r\r\nggplot(\r\n    data=subset(all_projects_up2014.df, \r\n                publication.year %in% factor(c(\"2009\",\"2010\",\"2011\",\"2013\",\"2014\")) & \r\n                    species %in% names(species_table_frequent) &\r\n                    species != \"Homo sapiens (Human)\"),\r\n       aes(\r\n           factor(species, levels=names(species_table_frequent))\r\n           )\r\n    ) +\r\n    geom_bar() + coord_flip() +\r\n    facet_grid(. ~ publication.year) +\r\n    ylab(\"Number of publications\") +\r\n    xlab(\"\") +\r\n    ggtitle(\"Per Species and Year project publications (2009-2014)\")\r\n```\r\n\r\n![](https://github.com/PRIDE-R/archive-anual-trends/blob/master/README_files/figure-html/unnamed-chunk-11-1.png) \r\n\r\nAmongh other thigns, we can see how *Mus musculus (Mouse)* has boosted its popularity\r\nin 2014. It also seems to be a constant increase of *Rat novergicus (Rat)* over time\r\nbut it is decaying lately in favor of species such as *Escherichia coli* and \r\n*Saccharomyces cerevisiae (Baker's yeast)* as we can see in 2013 and 2014.  \r\n\r\n## Tissues  \r\n\r\nLet's repeat a similar analysis for tissues and see what we find.  \r\n\r\n\r\n```r\r\ntissues_table <- sort(table(all_projects_up2014.df$tissues), decreasing=T)\r\ntissues_table_frequent <- tissues_table[tissues_table>10]\r\nnum_tissues <- length(tissues_table)\r\nnum_tissues_frequent <- sum(tissues_table>10)\r\n```\r\n\r\nIn this case we have up to 143 different tissues. Just \r\n10 of them have been submitted more than ten times. \r\nLet's plot them.   \r\n\r\n\r\n```r\r\nggplot(data=subset(all_projects_up2014.df, tissues %in% names(tissues_table_frequent))) + \r\n       aes(factor(tissues, levels=names(tissues_table_frequent))) +\r\n    geom_bar() + coord_flip( )+\r\n    ylab(\"Number of publications\") +\r\n    xlab(\"\") +\r\n    ggtitle(\"Per Tissues project publications\")\r\n```\r\n\r\n![](https://github.com/PRIDE-R/archive-anual-trends/blob/master/README_files/figure-html/unnamed-chunk-13-1.png) \r\n\r\nA lot of submissions did not specify a tissue. It also happens with species, but\r\nbefore wasn't so prominent. In this case we need to filter these out.  \r\n\r\n\r\n```r\r\nggplot(data=\r\n           subset(\r\n               all_projects_up2014.df, \r\n               tissues %in% names(tissues_table_frequent) &\r\n                tissues != \"Not available\"\r\n               )\r\n       ) + \r\n       aes(factor(tissues, levels=names(tissues_table_frequent))) +\r\n    geom_bar() + coord_flip( )+\r\n    ylab(\"Number of publications\") +\r\n    xlab(\"\") +\r\n    ggtitle(\"Per Tissues project publications\")\r\n```\r\n\r\n![](https://github.com/PRIDE-R/archive-anual-trends/blob/master/README_files/figure-html/unnamed-chunk-14-1.png) \r\n\r\nIt seems that most people use *cell cultures* as a tissue, and that makes sense.\r\nBut out of that we see some popular tissues such as *liver*, *brain*, *blood*, etc.\r\nWe will try to make sense of it later on.  \r\n\r\nBut now let's have a look at these numbers per year, again considering just \r\nthe period 2009-2014.  \r\n\r\n\r\n```r\r\nggplot(\r\n    data=subset(all_projects_up2014.df, \r\n                publication.year %in% factor(c(\"2009\",\"2010\",\"2011\",\"2013\",\"2014\")) & \r\n                    tissues %in% names(tissues_table_frequent) &\r\n                tissues != \"Not available\"),\r\n       aes(\r\n           factor(tissues, levels=names(tissues_table_frequent))\r\n           )\r\n    ) +\r\n    geom_bar() + coord_flip() +\r\n    facet_grid(. ~ publication.year) +\r\n    ylab(\"Number of publications\") +\r\n    xlab(\"\") +\r\n    ggtitle(\"Per Tissues and Year project publications (2009-2014)\")\r\n```\r\n\r\n![](https://github.com/PRIDE-R/archive-anual-trends/blob/master/README_files/figure-html/unnamed-chunk-15-1.png) \r\n\r\nTwo conclusions here. First, submissions started to include more metadata regarding\r\ntissues in 2014. And second, numbers are too low actually to arrive to any conclusion\r\nabout trends out of the fact that most people uses cell cultures. Maybe *leaf* stands\r\nout a little bit in 2014 considering it doesn't appear un the three previous years.\r\nBut again, we cannot arrive to any actual conclusions when there isn't enough submissions\r\ncontaining this piece of metadata.  \r\n\r\n## Modifications  \r\n\r\nOur third analysis deals with what modifications are associated with a dataset.\r\nWe will repetat the same procedure.  \r\n\r\n\r\n```r\r\nptm_table <- sort(table(all_projects_up2014.df$ptm.names), decreasing=T)\r\nptm_table_frequent <- ptm_table[ptm_table>10]\r\nnum_ptm <- length(ptm_table)\r\nnum_ptm_frequent <- sum(ptm_table>10)\r\n```\r\n\r\nWe have up to 76 different modifications. Just \r\n17 of them have been submitted more than ten times. \r\nLet's plot them.   \r\n\r\n\r\n```r\r\nggplot(data=subset(all_projects_up2014.df, ptm.names %in% names(ptm_table_frequent))) + \r\n       aes(factor(ptm.names, levels=names(ptm_table_frequent))) +\r\n    geom_bar() + coord_flip( )+\r\n    ylab(\"Number of publications\") +\r\n    xlab(\"\") +\r\n    ggtitle(\"Per Modification project publications\")\r\n```\r\n\r\n![](https://github.com/PRIDE-R/archive-anual-trends/blob/master/README_files/figure-html/unnamed-chunk-17-1.png) \r\n\r\nLet's filter out unspecified modifications and plot again.  \r\n\r\n\r\n```r\r\nggplot(data=\r\n           subset(\r\n               all_projects_up2014.df, \r\n               ptm.names %in% names(ptm_table_frequent) &\r\n                ptm.names != \"Not available\" &\r\n                ptm.names != \"No PTMs are included in the dataset\"\r\n               ), \r\n       aes(factor(ptm.names, levels=names(ptm_table_frequent)))) +\r\n    geom_bar() + coord_flip( )+\r\n    ylab(\"Number of publications\") +\r\n    xlab(\"\") +\r\n    ggtitle(\"Per Modification project publications\")\r\n```\r\n\r\n![](https://github.com/PRIDE-R/archive-anual-trends/blob/master/README_files/figure-html/unnamed-chunk-18-1.png) \r\n\r\nThree modifications stand out from the rest, specially *monohydroxylated \r\nresidue*, but also *acetylated residue*, and *iodacetamide - site C*.    \r\n\r\nBut now let's have a look at these numbers per year, again considering just \r\nthe period 2009-2014.  \r\n\r\n\r\n```r\r\nggplot(\r\n    data=subset(all_projects_up2014.df, \r\n                publication.year %in% factor(c(\"2009\",\"2010\",\"2011\",\"2013\",\"2014\")) & \r\n                    ptm.names %in% names(ptm_table_frequent) &\r\n               ptm.names != \"Not available\" &\r\n                ptm.names != \"No PTMs are included in the dataset\"\r\n               ),\r\n       aes(factor(ptm.names, levels=names(ptm_table_frequent)))\r\n    ) +\r\n    geom_bar() + coord_flip() +\r\n    facet_grid(. ~ publication.year) +\r\n    ylab(\"Number of publications\") +\r\n    xlab(\"\") +\r\n    ggtitle(\"Per Modification and Year project publications (2009-2014)\")\r\n```\r\n\r\n![](https://github.com/PRIDE-R/archive-anual-trends/blob/master/README_files/figure-html/unnamed-chunk-19-1.png) \r\n\r\nHere we see some trend changes. First of all, the high frequency of *monohydroxylated \r\nresidue* seems to be a consequence of 2013 and 2014 publications. A similar thing\r\nhappens with *acetylated residue*. In the case of *iodacetamide - site C*, it is\r\nthe most freqently reported modifitcation before 2013, but in 2013 and 2014 is less\r\nreported. In 2014 we see an increase of submissions in *iodoacetamide derivated residue*\r\nand *carbamidomethyl* that from being rarely reported became the third most reported\r\nmodification with 40 datasets made public\r\nin 2014.  \r\n\r\n## Instruments  \r\n\r\nFinally we will have a look at what instruments have been reported to be used in\r\nPRIDE Archive public experiments.  \r\n\r\n\r\n```r\r\ninstrument_table <- sort(table(all_projects_up2014.df$instrument.names), decreasing=T)\r\ninstrument_table_frequent <- instrument_table[instrument_table>10]\r\nnum_instrument <- length(instrument_table)\r\nnum_instrument_frequent <- sum(instrument_table>10)\r\n```\r\n\r\nWe have up to 164 different instrument names. Just \r\n17 of them have been submitted more than ten times. \r\nLet's plot them.   \r\n\r\n\r\n```r\r\nggplot(data=subset(all_projects_up2014.df, instrument.names %in% names(instrument_table_frequent))) + \r\n       aes(factor(instrument.names, levels=names(instrument_table_frequent))) +\r\n    geom_bar() + coord_flip( )+\r\n    ylab(\"Number of publications\") +\r\n    xlab(\"\") +\r\n    ggtitle(\"Per Instrument project publications\")\r\n```\r\n\r\n![](https://github.com/PRIDE-R/archive-anual-trends/blob/master/README_files/figure-html/unnamed-chunk-21-1.png) \r\n\r\nNot much here. It seems that different versions of *LTQ Orbitrap* are the most \r\nprevalent instrument reported.  \r\n\r\nLets see if there is any different in a per year chart. Again considering just \r\nthe period 2009-2014.  \r\n\r\n\r\n```r\r\nggplot(\r\n    data=subset(all_projects_up2014.df, \r\n                publication.year %in% factor(c(\"2009\",\"2010\",\"2011\",\"2013\",\"2014\")) & \r\n                    instrument.names %in% names(instrument_table_frequent)\r\n               ),\r\n       aes(factor(instrument.names, levels=names(instrument_table_frequent)))\r\n    ) +\r\n    geom_bar() + coord_flip() +\r\n    facet_grid(. ~ publication.year) +\r\n    ylab(\"Number of publications\") +\r\n    xlab(\"\") +\r\n    ggtitle(\"Per Instrument and Year project publications (2009-2014)\")\r\n```\r\n\r\n![](https://github.com/PRIDE-R/archive-anual-trends/blob/master/README_files/figure-html/unnamed-chunk-22-1.png) \r\n\r\nMaybe we can mention as something interesting that *LTQ Orbitrap Velos* is\r\nbeing reported more freqently in 2014 and there is also an increase of usage of\r\n*Q Exactive* in the same year.  \r\n\r\n# Conclusions  \r\n\r\nIn order to interpret most of these results, a good knowledge of the field is \r\nneeded. This is needed to relate different trends in the biological data:\r\nspecies, tissues, and modifications. But also it could be possible to relate \r\ninstruments with trends in the previous?\r\n\r\nIn any case, due to the increasing popularity of PRIDE Archive \r\nas a proteomics experimental results repository, we will be able to see actual \r\ntrends in the datasets in the years to come. Or at least we will be more \r\nconfident on what has been observed here. The reason is not just that the number\r\nof submissions is increasing, but also that the platfor is being improved in order\r\nto gather more metadata related with the experiments. Moreover, users get more \r\nfamiliar with the process, being easier for them to provide this information.  \r\n\r\n# Data Visualisation  \r\n\r\nAs we introduced, we plan to create a data visualisation using Tableau. The idea\r\nis to show a report for each of the years including stats for each of the\r\nvariables analysied here. The user will be able to navigate through each year\r\nand maybe see any existing trends in the field.  \r\n\r\n*TODO*\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}