{"name":"On MS2 Proteomics Research Trends","tagline":"A view from the PRIDE Archive","body":"# PRIDE Archive Anual Trends - Exploratory Data Analysis\r\nJose A. Dianes  \r\n20 March 2015  \r\n\r\n## Requisities  \r\n\r\nThese are some of the libraries and configurations we will use in the \r\nfollowing analysis.  \r\n\r\n\r\n```r\r\nrequire(devtools)\r\ninstall_github(\"PRIDE-R/prideR\")\r\nlibrary(prideR)\r\nrequire(ggplot2)\r\ntheme_set(theme_linedraw())\r\nrequire(dplyr)\r\n```\r\n\r\n## A draft of the pipeline  \r\n\r\nThe two first parts are carried out in this document. The data visualisation part\r\nwill be generated and published separatelly and referenced from here.  \r\n\r\n#### Data acquisition\r\n\r\nWe will use the [prideR package](http://pride-r.github.io/prideR) to retrieve \r\ndata from all the submitted experiments up to date.  \r\n\r\n#### Exploratory Data Analysis  \r\n\r\nBy using `R`, first we will prepare and explore data to be mined. Then we will\r\ncompute different summary statistics and generate some plots that will give us\r\nsome insight into the questions we want to answer in our visualisation.  \r\n\r\n#### Data Visualisation  \r\n\r\nFor this data viz we will use [Tableau](http://www.tableau.com). We will generate some worksheets for the \r\nkey charts, and then we will put them together in an *author-driven* linear\r\nnarrative that will go over time answering questions about MS2 proteomics \r\nresearch trends.  \r\n\r\n## Data acquisition  \r\n\r\nUsing [prideR](http://pride-r.github.io/prideR), lets retrieve all the public \r\ndatasets. We will use a large number as page size so we retrieve all of them.    \r\n\r\n\r\n```r\r\nall_projects <- search.list.ProjectSummary(\"\",0,20000)\r\nnum_projects <- length(project.list(all_projects))\r\n```\r\n\r\nThis time we get 1331 projects in total. Lets convert the result \r\nobject into a data frame, more suitable to work with the different R libraries.  \r\n\r\n\r\n```r\r\nall_projects.df <- as.data.frame(all_projects)\r\nnames(all_projects.df)\r\n```\r\n\r\n```\r\n##  [1] \"accession\"           \"project.title\"       \"project.description\"\r\n##  [4] \"publication.date\"    \"num.assays\"          \"species\"            \r\n##  [7] \"tissues\"             \"ptm.names\"           \"instrument.names\"   \r\n## [10] \"project.tags\"        \"submissionType\"\r\n```\r\n\r\nLet's have a look at the publication dates.  \r\n\r\n\r\n```r\r\nstr(all_projects.df$publication.date)\r\n```\r\n\r\n```\r\n##  POSIXct[1:1331], format: \"2015-03-19\" \"2015-03-19\" \"2015-03-19\" \"2015-03-19\" ...\r\n```\r\n\r\nWe see they are already in date format (`POSIXct`) and contain month and day. But we are just\r\ninterested in years in our study of trends, so let's extract the year in a separate\r\nvariable in the data frame.  \r\n\r\n\r\n```r\r\nall_projects.df$publication.year <- as.factor(format(all_projects.df$publication.date, \"%Y\"))\r\ntable(all_projects.df$publication.year)\r\n```\r\n\r\n```\r\n## \r\n## 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 \r\n##    6   12   18   22   52   75  112  181  255  485  113\r\n```\r\n\r\nWe have a lot of information in that summary table. But let's put it visually.  \r\n\r\n\r\n```r\r\nggplot(data=all_projects.df, aes(x=publication.year)) +\r\n    geom_bar()\r\n```\r\n\r\n![](README_files/figure-html/unnamed-chunk-6-1.png) \r\n\r\nMaybe we should exclude the present year from our trend analysis since the year\r\nis not complete and will incorrectly influence the outcomes.  \r\n\r\n\r\n```r\r\nall_projects_up2014.df <- subset(all_projects.df, publication.year!=\"2015\")\r\nnum_projects_up2014 <- nrow(all_projects_up2014.df)\r\n```\r\n\r\nThere we are. We have a new dataframe with 1218 projects \r\nup to 2014. I think we are ready to start doing some Exploratory Analysis.  \r\n\r\n## Exploratory Data Analysis  \r\n\r\nSo we know how the number of publications has changed over the years. But we are\r\nalso interested in what people research during these years. From the names in our\r\ndata frame we saw that each project includes information regarding:  \r\n\r\n* Species  \r\n* Tissues  \r\n* Modification names  \r\n* Instrument names  \r\n\r\nLet's first have a look at each of these variables as a whole, and later on we\r\ncan group them by years.  \r\n\r\n\r\n```r\r\nspecies_table <- sort(table(all_projects_up2014.df$species), decreasing=T)\r\nspecies_table_frequent <- species_table[species_table>10]\r\nnum_species <- length(species_table)\r\nnum_species_frequent <- sum(species_table>10)\r\n```\r\n\r\nWe see that we have up to 312 different species. But most of them \r\nare rare species that appear just once or twice. Just 10\r\nof them have been submitted more than ten times. Let's plot them.    \r\n\r\n\r\n```r\r\nspecies_all_time <- data.frame(species=names(species_table_frequent), species_count=species_table_frequent)\r\nggplot(data=species_all_time, aes(x=factor(species), y=species_count)) +\r\n    geom_bar(stat='identity')\r\n```\r\n\r\n![](README_files/figure-html/unnamed-chunk-9-1.png) \r\n\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}